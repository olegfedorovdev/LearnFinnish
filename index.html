<!DOCTYPE html>
<html>
<head>
    <title>Learn Finnish</title>
    <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
    <link href="css/game.css" rel="stylesheet" />
    <meta name="apple-mobile-web-app-capable" content="yes"/>
</head>
<body onload='onPageLoaded()'>
<script>
    // forward log to log  text area element
    (function () {
        var log = console.log;
        console.log = function () {
            log.apply(this, Array.prototype.slice.call(arguments));
            let textArea = document.querySelector('#debug_log_output');
            if (textArea) {
                let text = textArea.value;
                text += JSON.stringify(arguments);
                text += "\n";
                textArea.value = text;
            }
        };
    }());

    // ios does not support importing links so use 3rd party to emulate support
    (function() {
        if ('registerElement' in document &&
            'import' in document.createElement('link') &&
            'content' in document.createElement('template')) {
                console.log("Platform supports imports");
        } else {
            console.log("Platform does not support imports - use webcomponents");
            // polyfill the platform!
            var e = document.createElement('script');
            e.src = 'js/webcomponents/webcomponents-lite.js';
            document.body.appendChild(e);
        }
    })();
</script>

<script src="js/words/words.js"></script>
<script src="js/words/verbs.js"></script>
<!-- <script src="verbs1.js"></script>-->
<script src="js/words/questions.js"></script>
<script src="js/words/kappale4.js"></script>
<script src="js/game.js"></script>
<script src="js/helpers.js"></script>
<script src="js/games/game_vocabulary.js"></script>
<script src="js/games/game_choose_word.js"></script>
<script src="js/games/game_find_image.js"></script>
<script src="js/games/game_match_words.js"></script>
<script src="js/games/game_listen_choose.js"></script>
<!-- Games -->

<div id="gameFields"></div>

<!-- Match words field -->
<div id="div_game_field_match_words" class="game_field">
    <div id="match_words_div_field" class="div_match_words_field"">
        <div class="div_match_words_left"> <div class="div_match_words_choice"><p id="match_words_fi_1">Fin word</p></div></div>
        <div class="div_match_words_right"><div class="div_match_words_choice"><p id="match_words_en_1">En  word</p></div></div>
        <div class="div_match_words_left"> <div class="div_match_words_choice"><p id="match_words_fi_2">Fin word</p></div></div>
        <div class="div_match_words_right"><div class="div_match_words_choice"><p id="match_words_en_2">En  word</p></div></div>
        <div class="div_match_words_left"> <div class="div_match_words_choice"><p id="match_words_fi_3">Fin word</p></div></div>
        <div class="div_match_words_right"><div class="div_match_words_choice"><p id="match_words_en_3">En  word</p></div></div>
        <div class="div_match_words_left"> <div class="div_match_words_choice"><p id="match_words_fi_4">Fin word</p></div></div>
        <div class="div_match_words_right"><div class="div_match_words_choice"><p id="match_words_en_4">En  word</p></div></div>
        <div class="div_match_words_left"> <div class="div_match_words_choice"><p id="match_words_fi_5">Fin word</p></div></div>
        <div class="div_match_words_right"><div class="div_match_words_choice"><p id="match_words_en_5">En  word</p></div></div>
        <div class="div_match_words_left"> <div class="div_match_words_choice"><p id="match_words_fi_6">Fin word</p></div></div>
        <div class="div_match_words_right"><div class="div_match_words_choice"><p id="match_words_en_6">En  word</p></div></div>
        <div class="div_match_words_left"> <div class="div_match_words_choice"><p id="match_words_fi_7">Fin word</p></div></div>
        <div class="div_match_words_right"><div class="div_match_words_choice"><p id="match_words_en_7">En  word</p></div></div>
        <div class="div_match_words_left"> <div class="div_match_words_choice"><p id="match_words_fi_8">Fin word</p></div></div>
        <div class="div_match_words_right"><div class="div_match_words_choice"><p id="match_words_en_8">En  word</p></div></div>
    </div>
</div>


<!-- Listen and Choose field -->
<div id="div_game_field_listen_choose" class="game_field">
    <div class="div_listen_choose_choice" style="float: left">
        <div class="div_listen_choose_choice_table">
            <img id="listen_choose_img_en_1" src="img/ottaa.jpg"></img>
        </div>
        <p id="listen_choose_en_1">word1</p>
    </div>

    <div class="div_listen_choose_choice" style="float: right">
        <div class="div_listen_choose_choice_table">
            <img id="listen_choose_img_en_2" src="img/ottaa.jpg"></img>
        </div>
        <p id="listen_choose_en_2">word2</p>
    </div>

    <div class="div_listen_choose_choice" style="float: left">
        <div class="div_listen_choose_choice_table">
            <img id="listen_choose_img_en_3" src="img/ottaa.jpg"></img>
        </div>
        <p id="listen_choose_en_3">word3</p>
    </div>

    <div class="div_listen_choose_choice" style="float: right">
        <div class="div_listen_choose_choice_table">
            <img id="listen_choose_img_en_4" src="img/ottaa.jpg"></img>
        </div>
        <p id="listen_choose_en_4">word4</p>
    </div>

    <audio id="listen_choose_sound" src=""></audio>
</div>


<div class="div_arrows">
<img id="prev_word" src="img/left_arrow.jpg" class="img_left_arrow" onclick="Game.onPrevious()">
<img id="next_word" src="img/right_arrow.jpg" class="img_right_arrow" onclick="Game.onNext()">
</div>
<div id="vocabulary_empty" class="div_small_empty_space"></div>

<label>Game type:</label>
<select id="select_game_type" onchange="onGameTypeComboChanged()">
    <!--
    <option value="vocabulary" selected>Vocabulary</option>
    <option value="choose_word">Choose Word</option>
    <option value="find_image">Find Image</option>
    <option value="match_words">Match Words</option>
    <option value="listen_choose">Listen & Choose</option>
    -->
    <!--
    <option value="write_word">Write Word</option>
    <option value="listen_write">Listen & Write</option>
    -->
</select>

<label>Scope:</label>
<select id="select_scope" onchange="onScopeComboChanged()">
    <option value="all">All Words</option>
    <option value="latest" selected>Latest Words</option>
    <option value="verbs">Verbs</option>
    <option value="verbs1">Verbs 1</option>
    <option value="questions">Questions</option>
    <option value="kappale4">Kappale 4-5</option>
</select>
<textarea id="debug_log_output" rows="14" cols="100"></textarea>

<script>
     function onGameTypeComboChanged() {
        console.log("onGameTypeComboChanged");
        changeGameType(document.getElementById("select_game_type").value);
    }
    function onScopeComboChanged() {
        console.log("onScopeComboChanged");
        changeScope(document.getElementById("select_scope").value);
    }
        
    function onPageLoaded() {
        console.log("onPageLoaded");
        startGame()
    }
    function handleTemplateLoad(e) {
        console.log('Loaded import: ' + e.target.href);
    }
    function handleTemplateLoadError(e) {
        console.log('Error loading import: ' + e.target.href);
    }
</script>

    <link rel="import" href="game_field_vocabulary.html" onload="handleTemplateLoad(event)" onerror="handleTemplateLoadError(event)">
    <link rel="import" href="game_field_choose_word.html" onload="handleTemplateLoad(event)" onerror="handleTemplateLoadError(event)">
    <link rel="import" href="game_field_find_image.html" onload="handleTemplateLoad(event)" onerror="handleTemplateLoadError(event)">
    
</body>
</html>
